<!doctype html>
<html>

	<head>
		<title>All-Ears Mail</title>
		<link rel="stylesheet" href="/css/main.css" type="text/css">
	</head>

	<body>
		<header><h1>All-Ears Mail</h1></header>

		<main>
			<noscript>
				<p>Javascript required</p>
			</noscript>

			<div id="div_loggedin">
				<nav>
					<button id="btn_toinbox">Inbox</button>
					<button id="btn_towrite">Write</button>
					<button id="btn_tonotes">Notes</button>
					<button id="btn_toprefs">Prefs</button>
					<button id="btn_toadmin">Admin</button>
				</nav>

				<div class="maindiv" id="div_inbox">
					<table>
						<thead>
							<tr>
								<th>Time</th>
								<th>Title</th>
								<th>From</th>
								<th>To</th>
								<th>Delete</th>
							</tr>
						</thead>
						<tbody id="tbody_inbox">
						</tbody>
					</table>

					<div class="center">
						<button id="btn_msgdel" class="topmargin">Delete selected messages</button>
					</div>
				</div>

				<div class="maindiv" id="div_write">
					<div class="topmargin"><input id="send_title" type="text" placeholder="Subject"></div>
					<div class="topmargin"><select id="send_from"></select></div>
					<div class="topmargin"><input id="send_to" type="email" placeholder="receiver@example.com"></div>
					<div class="topmargin"><textarea id="send_body" placeholder="Message"></textarea></div>
					<div class="topmargin"><input id="send_copy" type="checkbox" checked="checked"> Save copy to Notes</div>
					<div class="topmargin"><button id="btn_send">Send</button></div>
				</div>

				<div class="maindiv" id="div_notes">
					<nav>
						<button id="btn_notes_contacts" disabled="disabled">Contacts</button>
						<button id="btn_notes_sent">Sent</button>
						<button id="btn_notes_texts">Texts</button>
						<button id="btn_notes_files">Files</button>
					</nav>

					<div id="div_notes_contacts" class="center">
						<table>
							<thead>
								<tr>
									<th>Email</th>
									<th>Name</th>
									<th>Notes</th>
									<th>Delete</th>
								</tr>
							</thead>
							<tbody id="tbody_notes_contact">
							</tbody>
							<tfoot>
								<tr>
									<td><input type="email" id="txt_newcontact_mail" placeholder="email@example.com"></td>
									<td><input type="text" id="txt_newcontact_name" placeholder="Name"></td>
									<td><input type="text" id="txt_newcontact_note" placeholder="Notes"></td>
									<td class="center"><button id="btn_contact_add">Add</button></td>
								</tr>
							</tfoot>
						</table>

						<button id="btn_savenotes" class="topmargin">Save changes</button>
					</div>

					<div id="div_notes_sent">
						<table>
							<thead>
								<tr>
									<th>Time</th>
									<th>Title</th>
									<th>From</th>
									<th>To</th>
									<th>Delete</th>
								</tr>
							</thead>
							<tbody id="tbody_sentbox">
							</tbody>
						</table>

						<button id="btn_sentdel" class="topmargin">Delete selected messages</button>
					</div>

					<div id="div_notes_texts">
						<table>
							<thead>
								<tr>
									<th>Time</th>
									<th>Title</th>
									<th>Delete</th>
								</tr>
							</thead>
							<tbody id="tbody_textnotes">
							</tbody>
						</table>

						<button id="btn_notenew" class="topmargin">New</button>

						<button id="btn_notedel" class="topmargin">Delete selected messages</button>
					</div>

					<div id="div_notes_files">
						<table>
							<thead>
								<tr>
									<th>Time</th>
									<th>Filename</th>
									<th>Download</th>
									<th>Delete</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>2000-01-01T00:00:00Z</td>
									<td>Example.bin</td>
									<td><button>D</button></td>
									<td><button>X</button></td>
								</tr>
							</tbody>
						</table>

						<div class="topmargin">
							<input id="upfile" type="file"> <button id="btn_uploadfile">Add</button>
						</div>
					</div>

					<div id="div_newtextnote">
						<input id="txt_newnote_title" type="text" placeholder="Title">
						<br>
						<textarea id="txt_newnote_body" class="topmargin" placeholder="Contents"></textarea>
						<br>
						<button id="btn_newnote_save" class="topmargin">Save</button> <button id="btn_newnote_cancel" class="topmargin">Discard</button>
					</div>
				</div>

				<div class="maindiv" id="div_prefs">
					<nav>
						<button id="btn_prefs_addresses" disabled="disabled">Addresses</button>
						<button id="btn_prefs_gatekeeper">Gatekeeper</button>
					</nav>

					<div id="div_prefs_addresses">
						<table>
							<thead>
								<tr>
									<th></th>
									<th colspan="2">Internal</th>
									<th colspan="2">Email</th>
								</tr>
								<tr>
									<th>Address</th>
									<th><abbr title="Accept mail">Acc</abbr></th>
									<th><abbr title="Share Public Key">SPK</abbr></th>
									<th><abbr title="Accept mail">Acc</abbr></th>
									<th><abbr title="Gatekeeper">Gk</abbr></th>
									<th>Delete</th>
								</tr>
							</thead>
							<tbody id="tbody_opt_addr">
							</tbody>
						</table>

						<div class="topmargin"><button id="btn_saveaddrdata">Save changes</button></div>

						<div class="topmargin">
							<div>Using <span id="addr_use_normal">?</span> out of <span id="addr_max_normal">?</span> normal addresses</div>
							<div><input type="text" id="txt_newaddress" placeholder="new-address"> <button id="btn_newaddress">Register</button></div>
						</div>

						<div class="topmargin">
							<div>Using <span id="addr_use_shield">?</span> out of <span id="addr_max_shield">?</span> Shield addresses</div>
							<div><button id="btn_newshieldaddress">Generate new Shield address</button></div>
						</div>
					</div>

					<div id="div_prefs_gatekeeper">
						<div class="center bold topmargin">Forbidden countries</div>
						<div>
							<select id="gatekeeper_country" multiple="multiple" size="8">
								<option value="2589581">Africa/Algeria</option>
								<option value="3351879">Africa/Angola</option>
								<option value="2395170">Africa/Benin</option>
								<option value="933860">Africa/Botswana</option>
								<option value="2361809">Africa/Burkina Faso</option>
								<option value="433561">Africa/Burundi</option>
								<option value="3374766">Africa/Cabo Verde</option>
								<option value="2233387">Africa/Cameroon</option>
								<option value="239880">Africa/Central African Republic</option>
								<option value="2434508">Africa/Chad</option>
								<option value="921929">Africa/Comoros</option>
								<option value="203312">Africa/Congo</option>
								<option value="223816">Africa/Djibouti</option>
								<option value="357994">Africa/Egypt</option>
								<option value="2309096">Africa/Equatorial Guinea</option>
								<option value="338010">Africa/Eritrea</option>
								<option value="934841">Africa/Eswatini</option>
								<option value="337996">Africa/Ethiopia</option>
								<option value="2400553">Africa/Gabon</option>
								<option value="2413451">Africa/Gambia</option>
								<option value="2300660">Africa/Ghana</option>
								<option value="2420477">Africa/Guinea</option>
								<option value="2372248">Africa/Guinea-Bissau</option>
								<option value="2287781">Africa/Ivory Coast</option>
								<option value="192950">Africa/Kenya</option>
								<option value="932692">Africa/Lesotho</option>
								<option value="2275384">Africa/Liberia</option>
								<option value="2215636">Africa/Libya</option>
								<option value="1062947">Africa/Madagascar</option>
								<option value="927384">Africa/Malawi</option>
								<option value="2453866">Africa/Mali</option>
								<option value="2378080">Africa/Mauritania</option>
								<option value="934292">Africa/Mauritius</option>
								<option value="1024031">Africa/Mayotte</option>
								<option value="2542007">Africa/Morocco</option>
								<option value="1036973">Africa/Mozambique</option>
								<option value="3355338">Africa/Namibia</option>
								<option value="2440476">Africa/Niger</option>
								<option value="2328926">Africa/Nigeria</option>
								<option value="2260494">Africa/Republic of the Congo</option>
								<option value="49518">Africa/Rwanda</option>
								<option value="935317">Africa/Réunion</option>
								<option value="3370751">Africa/Saint Helena</option>
								<option value="2245662">Africa/Senegal</option>
								<option value="241170">Africa/Seychelles</option>
								<option value="2403846">Africa/Sierra Leone</option>
								<option value="51537">Africa/Somalia</option>
								<option value="953987">Africa/South Africa</option>
								<option value="7909807">Africa/South Sudan</option>
								<option value="366755">Africa/Sudan</option>
								<option value="2410758">Africa/São Tomé and Príncipe</option>
								<option value="149590">Africa/Tanzania</option>
								<option value="2363686">Africa/Togo</option>
								<option value="2464461">Africa/Tunisia</option>
								<option value="226074">Africa/Uganda</option>
								<option value="2461445">Africa/Western Sahara</option>
								<option value="895949">Africa/Zambia</option>
								<option value="878675">Africa/Zimbabwe</option>
								<option value="6697173">Antarctica/Antarctica</option>
								<option value="3371123">Antarctica/Bouvet Island</option>
								<option value="1546748">Antarctica/French Southern Territories</option>
								<option value="1547314">Antarctica/Heard Island and McDonald Islands</option>
								<option value="3474415">Antarctica/South Georgia and the South Sandwich Islands</option>
								<option value="6255147">Asia</option>
								<option value="1149361">Asia/Afghanistan</option>
								<option value="174982">Asia/Armenia</option>
								<option value="587116">Asia/Azerbaijan</option>
								<option value="290291">Asia/Bahrain</option>
								<option value="1210997">Asia/Bangladesh</option>
								<option value="1252634">Asia/Bhutan</option>
								<option value="1282588">Asia/British Indian Ocean Territory</option>
								<option value="1820814">Asia/Brunei</option>
								<option value="1831722">Asia/Cambodia</option>
								<option value="1814991">Asia/China</option>
								<option value="1547376">Asia/Cocos [Keeling] Islands</option>
								<option value="614540">Asia/Georgia</option>
								<option value="248816">Asia/Hashemite Kingdom of Jordan</option>
								<option value="1819730">Asia/Hong Kong</option>
								<option value="1269750">Asia/India</option>
								<option value="1643084">Asia/Indonesia</option>
								<option value="130758">Asia/Iran</option>
								<option value="99237">Asia/Iraq</option>
								<option value="294640">Asia/Israel</option>
								<option value="1861060">Asia/Japan</option>
								<option value="1522867">Asia/Kazakhstan</option>
								<option value="285570">Asia/Kuwait</option>
								<option value="1527747">Asia/Kyrgyzstan</option>
								<option value="1655842">Asia/Laos</option>
								<option value="272103">Asia/Lebanon</option>
								<option value="1821275">Asia/Macao</option>
								<option value="1733045">Asia/Malaysia</option>
								<option value="1282028">Asia/Maldives</option>
								<option value="2029969">Asia/Mongolia</option>
								<option value="1327865">Asia/Myanmar</option>
								<option value="1282988">Asia/Nepal</option>
								<option value="1873107">Asia/North Korea</option>
								<option value="286963">Asia/Oman</option>
								<option value="1168579">Asia/Pakistan</option>
								<option value="6254930">Asia/Palestine</option>
								<option value="1694008">Asia/Philippines</option>
								<option value="289688">Asia/Qatar</option>
								<option value="102358">Asia/Saudi Arabia</option>
								<option value="1880251">Asia/Singapore</option>
								<option value="1835841">Asia/South Korea</option>
								<option value="1227603">Asia/Sri Lanka</option>
								<option value="163843">Asia/Syria</option>
								<option value="1668284">Asia/Taiwan</option>
								<option value="1220409">Asia/Tajikistan</option>
								<option value="1605651">Asia/Thailand</option>
								<option value="298795">Asia/Turkey</option>
								<option value="1218197">Asia/Turkmenistan</option>
								<option value="290557">Asia/United Arab Emirates</option>
								<option value="1512440">Asia/Uzbekistan</option>
								<option value="1562822">Asia/Vietnam</option>
								<option value="69543">Asia/Yemen</option>
								<option value="6255148">Europe</option>
								<option value="783754">Europe/Albania</option>
								<option value="3041565">Europe/Andorra</option>
								<option value="2782113">Europe/Austria</option>
								<option value="630336">Europe/Belarus</option>
								<option value="2802361">Europe/Belgium</option>
								<option value="3277605">Europe/Bosnia and Herzegovina</option>
								<option value="732800">Europe/Bulgaria</option>
								<option value="3202326">Europe/Croatia</option>
								<option value="146669">Europe/Cyprus</option>
								<option value="3077311">Europe/Czechia</option>
								<option value="2623032">Europe/Denmark</option>
								<option value="453733">Europe/Estonia</option>
								<option value="2622320">Europe/Faroe Islands</option>
								<option value="660013">Europe/Finland</option>
								<option value="3017382">Europe/France</option>
								<option value="2921044">Europe/Germany</option>
								<option value="2411586">Europe/Gibraltar</option>
								<option value="390903">Europe/Greece</option>
								<option value="3042362">Europe/Guernsey</option>
								<option value="719819">Europe/Hungary</option>
								<option value="2629691">Europe/Iceland</option>
								<option value="2963597">Europe/Ireland</option>
								<option value="3042225">Europe/Isle of Man</option>
								<option value="3175395">Europe/Italy</option>
								<option value="3042142">Europe/Jersey</option>
								<option value="831053">Europe/Kosovo</option>
								<option value="458258">Europe/Latvia</option>
								<option value="3042058">Europe/Liechtenstein</option>
								<option value="2960313">Europe/Luxembourg</option>
								<option value="2562770">Europe/Malta</option>
								<option value="2993457">Europe/Monaco</option>
								<option value="3194884">Europe/Montenegro</option>
								<option value="2750405">Europe/Netherlands</option>
								<option value="718075">Europe/North Macedonia</option>
								<option value="3144096">Europe/Norway</option>
								<option value="798544">Europe/Poland</option>
								<option value="2264397">Europe/Portugal</option>
								<option value="597427">Europe/Republic of Lithuania</option>
								<option value="617790">Europe/Republic of Moldova</option>
								<option value="798549">Europe/Romania</option>
								<option value="2017370">Europe/Russia</option>
								<option value="3168068">Europe/San Marino</option>
								<option value="6290252">Europe/Serbia</option>
								<option value="3057568">Europe/Slovakia</option>
								<option value="3190538">Europe/Slovenia</option>
								<option value="2510769">Europe/Spain</option>
								<option value="607072">Europe/Svalbard and Jan Mayen</option>
								<option value="2661886">Europe/Sweden</option>
								<option value="2658434">Europe/Switzerland</option>
								<option value="690791">Europe/Ukraine</option>
								<option value="2635167">Europe/United Kingdom</option>
								<option value="3164670">Europe/Vatican City</option>
								<option value="661882">Europe/Åland</option>
								<option value="3573511">North America/Anguilla</option>
								<option value="3576396">North America/Antigua and Barbuda</option>
								<option value="3577279">North America/Aruba</option>
								<option value="3572887">North America/Bahamas</option>
								<option value="3374084">North America/Barbados</option>
								<option value="3582678">North America/Belize</option>
								<option value="3573345">North America/Bermuda</option>
								<option value="7626844">North America/Bonaire, Sint Eustatius, and Saba</option>
								<option value="3577718">North America/British Virgin Islands</option>
								<option value="6251999">North America/Canada</option>
								<option value="3580718">North America/Cayman Islands</option>
								<option value="3624060">North America/Costa Rica</option>
								<option value="3562981">North America/Cuba</option>
								<option value="7626836">North America/Curaçao</option>
								<option value="3575830">North America/Dominica</option>
								<option value="3508796">North America/Dominican Republic</option>
								<option value="3585968">North America/El Salvador</option>
								<option value="3425505">North America/Greenland</option>
								<option value="3580239">North America/Grenada</option>
								<option value="3579143">North America/Guadeloupe</option>
								<option value="3595528">North America/Guatemala</option>
								<option value="3723988">North America/Haiti</option>
								<option value="3608932">North America/Honduras</option>
								<option value="3489940">North America/Jamaica</option>
								<option value="3570311">North America/Martinique</option>
								<option value="3996063">North America/Mexico</option>
								<option value="3578097">North America/Montserrat</option>
								<option value="3617476">North America/Nicaragua</option>
								<option value="3703430">North America/Panama</option>
								<option value="4566966">North America/Puerto Rico</option>
								<option value="3578476">North America/Saint Barthélemy</option>
								<option value="3576468">North America/Saint Lucia</option>
								<option value="3578421">North America/Saint Martin</option>
								<option value="3424932">North America/Saint Pierre and Miquelon</option>
								<option value="3577815">North America/Saint Vincent and the Grenadines</option>
								<option value="7609695">North America/Sint Maarten</option>
								<option value="3575174">North America/St Kitts and Nevis</option>
								<option value="3573591">North America/Trinidad and Tobago</option>
								<option value="3576916">North America/Turks and Caicos Islands</option>
								<option value="4796775">North America/U.S. Virgin Islands</option>
								<option value="6252001">North America/United States</option>
								<option value="5880801">Oceania/American Samoa</option>
								<option value="2077456">Oceania/Australia</option>
								<option value="2078138">Oceania/Christmas Island</option>
								<option value="1899402">Oceania/Cook Islands</option>
								<option value="1966436">Oceania/Democratic Republic of Timor-Leste</option>
								<option value="2081918">Oceania/Federated States of Micronesia</option>
								<option value="2205218">Oceania/Fiji</option>
								<option value="4030656">Oceania/French Polynesia</option>
								<option value="4043988">Oceania/Guam</option>
								<option value="4030945">Oceania/Kiribati</option>
								<option value="2080185">Oceania/Marshall Islands</option>
								<option value="2110425">Oceania/Nauru</option>
								<option value="2139685">Oceania/New Caledonia</option>
								<option value="2186224">Oceania/New Zealand</option>
								<option value="4036232">Oceania/Niue</option>
								<option value="2155115">Oceania/Norfolk Island</option>
								<option value="4041468">Oceania/Northern Mariana Islands</option>
								<option value="1559582">Oceania/Palau</option>
								<option value="2088628">Oceania/Papua New Guinea</option>
								<option value="4030699">Oceania/Pitcairn Islands</option>
								<option value="4034894">Oceania/Samoa</option>
								<option value="2103350">Oceania/Solomon Islands</option>
								<option value="4031074">Oceania/Tokelau</option>
								<option value="4032283">Oceania/Tonga</option>
								<option value="2110297">Oceania/Tuvalu</option>
								<option value="5854968">Oceania/U.S. Minor Outlying Islands</option>
								<option value="2134431">Oceania/Vanuatu</option>
								<option value="4034749">Oceania/Wallis and Futuna</option>
								<option value="3865483">South America/Argentina</option>
								<option value="3923057">South America/Bolivia</option>
								<option value="3469034">South America/Brazil</option>
								<option value="3895114">South America/Chile</option>
								<option value="3686110">South America/Colombia</option>
								<option value="3658394">South America/Ecuador</option>
								<option value="3474414">South America/Falkland Islands</option>
								<option value="3381670">South America/French Guiana</option>
								<option value="3378535">South America/Guyana</option>
								<option value="3437598">South America/Paraguay</option>
								<option value="3932488">South America/Peru</option>
								<option value="3382998">South America/Suriname</option>
								<option value="3439705">South America/Uruguay</option>
								<option value="3625428">South America/Venezuela</option>
							</select>
						</div>

						<div class="center bold topmargin">Forbidden domains</div>
						<div><select id="gatekeeper_domain" size="8"></select></div>
						<div class="flex"><input id="txt_gkdomain" type="text" pattern="[0-9a-z.-]{1,100}\.[a-z.]{2,50}"> <button id="btn_gkdomain_add">Add</button> <button id="btn_gkdomain_del">Del</button></div>

						<div class="center bold topmargin">Forbidden senders</div>
						<div><select id="gatekeeper_addr" size="8"></select></div>
						<div class="flex"><input id="txt_gkaddr" type="text" pattern="[0-9a-z.-]{1,100}@[0-9a-z.-]{1,100}\.[a-z.]{2,50}"> <button id="btn_gkaddr_add">Add</button> <button id="btn_gkaddr_del">Del</button></div>

						<div class="center topmargin"><button id="btn_savegkdata">Save changes</button></div>
					</div>
				</div>

				<div class="maindiv" id="div_admin">
					<table>
						<thead>
							<tr>
								<th>Public key</th>
								<th><abbr title="Mebibyte">MiB</abbr></th>
								<th><abbr title="Level">Lvl</abbr></th>
								<th colspan="2">Adjust level</th>
								<th>Destroy</th>
							</tr>
						</thead>
						<tbody id="tbody_admin">
						</tbody>
					</table>

					<div class="topmargin">
						<input id="txt_newacc_pkey" type="text" class="mono" size="64" maxlength="64" pattern="[0-9a-f]{64}" placeholder="Public key in hex"> <button id="btn_admin_addaccount">Add</button>
					</div>
				</div>

				<div id="div_readmsg" class="center">
					<h2 id="readmsg_title"></h2>

					<div class="topmargin">
						<div>From <span id="readmsg_from"></span> (Level <span id="readmsg_level"></span>)</div>
						<div>To <span id="readmsg_to"></span></div>
					</div>

					<div id="readmsg_body" class="topmargin"></div>
				</div>
			</div>

			<div id="div_login"  class="center">
				<div>Secret key (hex):</div>
				<div><input id="txt_skey" type="password" size="64" maxlength="64" pattern="[0-9a-f]{64}" value="5046adc1dba838867b2bbbfdd0c3423e58b57970b5267a90f57960924a87f196"></div>
				<div class="center topmargin"><button id="btn_signin">Sign in</button></div>
			</div>
		</main>

		<footer>Powered by All-Ears Mail (License: <abbr title="GNU Affero General Public License">AGPL</abbr>; <a href="https://github.com/emp-code/ae-mail">Source</a>)</footer>

		<script src="/js/nacl.js"></script>
		<script src="/js/all-ears.js"></script>
		<script src="/js/main.js"></script>
	</body>
</html>
